import{R as Q,T as ce,U as pe,V as de,S as oe,i as le,s as ne,N as X,l as j,C as O,u as y,v as R,r as m,g,W as me,x as ae,e as E,b as v,d as P,k as h,P as Y,m as _,D as Z,F as _e,G as ge,H as $e,I as be,t as U,a as C,f as V,h as N,p as x,q as he,M as ye,c as L,j as q,n as H,w as z,B as we}from"../chunks/index.2765ecf1.js";import{b as ke,g as Ee}from"../chunks/navigation.4b63ddb8.js";import{A as ie}from"../chunks/Alert.230a6c86.js";import{B as ve}from"../chunks/Button.a0b24f0c.js";import{w as fe}from"../chunks/index.58ef2648.js";import{a as Pe,g as De}from"../chunks/axios.2a3c923b.js";const Ae={data:[],error:"",uploadProgress:0},ue=fe(Ae),F=o=>{ue.update(e=>({...e,...o}))},Ie=o=>{const e=Math.round(o.loaded/o.total*100);F({uploadProgress:e})},Te=async o=>{F({error:""});try{const e=new FormData;e.append("file",o),await Pe.post("/pdfs",e,{onUploadProgress:Ie})}catch(e){return F({error:De(e)})}},je=()=>{F({error:"",uploadProgress:0})};function ee(o){return Object.prototype.toString.call(o)==="[object Date]"}function G(o,e){if(o===e||o!==o)return()=>o;const r=typeof o;if(r!==typeof e||Array.isArray(o)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(o)){const t=e.map((s,l)=>G(o[l],s));return s=>t.map(l=>l(s))}if(r==="object"){if(!o||!e)throw new Error("Object cannot be null");if(ee(o)&&ee(e)){o=o.getTime(),e=e.getTime();const l=e-o;return n=>new Date(o+n*l)}const t=Object.keys(e),s={};return t.forEach(l=>{s[l]=G(o[l],e[l])}),l=>{const n={};return t.forEach(i=>{n[i]=s[i](l)}),n}}if(r==="number"){const t=e-o;return s=>o+s*t}throw new Error(`Cannot interpolate ${r} values`)}function Se(o,e={}){const r=fe(o);let t,s=o;function l(n,i){if(o==null)return r.set(o=n),Promise.resolve();s=n;let a=t,f=!1,{delay:$=0,duration:w=400,easing:D=de,interpolate:B=G}=Q(Q({},e),i);if(w===0)return a&&(a.abort(),a=null),r.set(o=s),Promise.resolve();const A=ce()+$;let I;return t=pe(T=>{if(T<A)return!0;f||(I=B(o,n),typeof w=="function"&&(w=w(o,n)),f=!0),a&&(a.abort(),a=null);const S=T-A;return S>w?(r.set(o=n),!1):(r.set(o=I(D(S/w))),!0)}),t.promise}return{set:l,update:(n,i)=>l(n(s,o),i),subscribe:r.subscribe}}function Ce(o){let e,r;return{c(){e=E("div"),r=E("div"),this.h()},l(t){e=v(t,"DIV",{class:!0});var s=P(e);r=v(s,"DIV",{class:!0,role:!0,style:!0}),P(r).forEach(g),s.forEach(g),this.h()},h(){h(r,"class","flex flex-col justify-center overflow-hidden bg-blue-800"),h(r,"role","progressbar"),Y(r,"width",o[0]+"%"),h(e,"class","flex my-3 w-full h-1.5 bg-gray-200 rounded-full overflow-hidden dark:bg-gray-700")},m(t,s){j(t,e,s),_(e,r)},p(t,s){s&1&&Y(r,"width",t[0]+"%")},i:Z,o:Z,d(t){t&&g(e)}}}function Ne(o){let e;const r=o[5].default,t=_e(r,o,o[4],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&16)&&ge(t,r,s,s[4],e?be(r,s[4],l,null):$e(s[4]),null)},i(s){e||(m(t,s),e=!0)},o(s){y(t,s),e=!1},d(s){t&&t.d(s)}}}function Ue(o){let e,r,t,s;const l=[Ne,Ce],n=[];function i(a,f){return a[2].default&&a[0]===100?0:1}return e=i(o),r=n[e]=l[e](o),{c(){r.c(),t=X()},l(a){r.l(a),t=X()},m(a,f){n[e].m(a,f),j(a,t,f),s=!0},p(a,[f]){let $=e;e=i(a),e===$?n[e].p(a,f):(O(),y(n[$],1,1,()=>{n[$]=null}),R(),r=n[e],r?r.p(a,f):(r=n[e]=l[e](a),r.c()),m(r,1),r.m(t.parentNode,t))},i(a){s||(m(r),s=!0)},o(a){y(r),s=!1},d(a){n[e].d(a),a&&g(t)}}}function Ve(o,e,r){let t,{$$slots:s={},$$scope:l}=e;const n=me(s);let{progress:i=0}=e;const a=Se(1,{duration:1e3});return ae(o,a,f=>r(0,t=f)),o.$$set=f=>{"progress"in f&&r(3,i=f.progress),"$$scope"in f&&r(4,l=f.$$scope)},o.$$.update=()=>{o.$$.dirty&8&&a.set(i)},[t,a,n,i,l,s]}class Be extends oe{constructor(e){super(),le(this,e,Ve,Ue,ne,{progress:3})}}function te(o){let e,r;return e=new Be({props:{progress:o[2].uploadProgress,$$slots:{default:[Oe]},$$scope:{ctx:o}}}),{c(){L(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){H(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.progress=t[2].uploadProgress),s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){z(e,t)}}}function Me(o){let e;return{c(){e=U("¡Carga completada! Regresando a la lista...")},l(r){e=V(r,"¡Carga completada! Regresando a la lista...")},m(r,t){j(r,e,t)},d(r){r&&g(e)}}}function Oe(o){let e,r;return e=new ie({props:{type:"success",$$slots:{default:[Me]},$$scope:{ctx:o}}}),{c(){L(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){H(e,t,s),r=!0},p(t,s){const l={};s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){z(e,t)}}}function re(o){let e,r;return e=new ie({props:{$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){L(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){H(e,t,s),r=!0},p(t,s){const l={};s&68&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){z(e,t)}}}function Re(o){let e,r=o[2].error+"",t;return{c(){e=U("Error: "),t=U(r)},l(s){e=V(s,"Error: "),t=V(s,r)},m(s,l){j(s,e,l),j(s,t,l)},p(s,l){l&4&&r!==(r=s[2].error+"")&&we(t,r)},d(s){s&&g(e),s&&g(t)}}}function se(o){let e,r;return e=new ve({props:{className:"w-full my-3",disabled:o[1],$$slots:{default:[Fe]},$$scope:{ctx:o}}}),{c(){L(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,s){H(e,t,s),r=!0},p(t,s){const l={};s&2&&(l.disabled=t[1]),s&64&&(l.$$scope={dirty:s,ctx:t}),e.$set(l)},i(t){r||(m(e.$$.fragment,t),r=!0)},o(t){y(e.$$.fragment,t),r=!1},d(t){z(e,t)}}}function Fe(o){let e;return{c(){e=U("Submit")},l(r){e=V(r,"Submit")},m(r,t){j(r,e,t)},d(r){r&&g(e)}}}function Le(o){let e,r,t,s,l,n,i,a,f,$,w,D,B,A,I,T,S,W,u=o[1]&&!o[2].error&&te(o),c=o[2].error&&re(o),p=!o[1]&&se(o);return{c(){e=E("div"),r=E("h2"),t=U("Upload a Document"),s=C(),l=E("form"),n=E("div"),i=E("label"),a=U("Elige un archivo"),f=C(),$=E("input"),w=C(),D=E("div"),B=C(),u&&u.c(),A=C(),c&&c.c(),I=C(),p&&p.c(),this.h()},l(d){e=v(d,"DIV",{class:!0});var b=P(e);r=v(b,"H2",{class:!0});var J=P(r);t=V(J,"Upload a Document"),J.forEach(g),s=N(b),l=v(b,"FORM",{});var k=P(l);n=v(k,"DIV",{class:!0});var M=P(n);i=v(M,"LABEL",{for:!0,class:!0});var K=P(i);a=V(K,"Elige un archivo"),K.forEach(g),f=N(M),$=v(M,"INPUT",{type:!0,name:!0,id:!0,class:!0}),M.forEach(g),w=N(k),D=v(k,"DIV",{class:!0}),P(D).forEach(g),B=N(k),u&&u.l(k),A=N(k),c&&c.l(k),I=N(k),p&&p.l(k),k.forEach(g),b.forEach(g),this.h()},h(){h(r,"class","text-3xl font-bold m-10"),h(i,"for","file-input"),h(i,"class","sr-only"),h($,"type","file"),h($,"name","file-input"),h($,"id","file-input"),h($,"class","block w-full border border-gray-200 shadow-sm rounded-md text-sm focus:z-10 focus:border-blue-500 focus:ring-blue-500 dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 file:mr-4 file:py-2 file:px-4 file:m-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-violet-700 hover:file:bg-violet-100"),h(n,"class","w-42"),h(D,"class","my-4"),h(e,"class","w-full max-w-md mx-auto p-6")},m(d,b){j(d,e,b),_(e,r),_(r,t),_(e,s),_(e,l),_(l,n),_(n,i),_(i,a),_(n,f),_(n,$),_(l,w),_(l,D),_(l,B),u&&u.m(l,null),_(l,A),c&&c.m(l,null),_(l,I),p&&p.m(l,null),T=!0,S||(W=[x($,"change",o[4]),x(l,"submit",he(o[3]))],S=!0)},p(d,[b]){d[1]&&!d[2].error?u?(u.p(d,b),b&6&&m(u,1)):(u=te(d),u.c(),m(u,1),u.m(l,A)):u&&(O(),y(u,1,1,()=>{u=null}),R()),d[2].error?c?(c.p(d,b),b&4&&m(c,1)):(c=re(d),c.c(),m(c,1),c.m(l,I)):c&&(O(),y(c,1,1,()=>{c=null}),R()),d[1]?p&&(O(),y(p,1,1,()=>{p=null}),R()):p?(p.p(d,b),b&2&&m(p,1)):(p=se(d),p.c(),m(p,1),p.m(l,null))},i(d){T||(m(u),m(c),m(p),T=!0)},o(d){y(u),y(c),y(p),T=!1},d(d){d&&g(e),u&&u.d(),c&&c.d(),p&&p.d(),S=!1,ye(W)}}}function qe(o,e,r){let t;ae(o,ue,a=>r(2,t=a));let s,l=!1;async function n(){r(1,l=!0),await Te(s[0]),t.error?r(1,l=!1):setTimeout(()=>{Ee("/documents"),r(1,l=!1)},2e3)}ke(je);function i(){s=this.files,r(0,s)}return[s,l,t,n,i]}class Qe extends oe{constructor(e){super(),le(this,e,qe,Le,ne,{})}}export{Qe as default};
